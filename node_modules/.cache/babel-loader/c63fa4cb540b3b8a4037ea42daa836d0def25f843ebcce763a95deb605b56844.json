{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Floyd\\\\Desktop\\\\Websites\\\\HIAWTO\\\\hi-awto-clean\\\\src\\\\pages\\\\AdminUsers.jsx\",\n  _s = $RefreshSig$();\n// src/pages/AdminUsers.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { collection, getDocs, updateDoc, doc, orderBy } from \"firebase/firestore\";\nimport { db } from \"../firebase/config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminUsers() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [filter, setFilter] = useState(\"all\"); // all | admins | banned\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const loadUsers = async () => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const snap = await getDocs(\n      // if you add updatedAt later, you can orderBy(\"updatedAt\", \"desc\")\n      collection(db, \"users\"));\n      let data = snap.docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }));\n      if (filter === \"admins\") {\n        data = data.filter(u => u.role === \"admin\");\n      } else if (filter === \"banned\") {\n        data = data.filter(u => u.banned === true);\n      }\n      setUsers(data);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load users.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    loadUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filter]);\n  const updateUserLocally = (id, partial) => {\n    setUsers(prev => prev.map(u => u.id === id ? {\n      ...u,\n      ...partial\n    } : u));\n  };\n  const handleChangeRole = async (id, newRole) => {\n    try {\n      await updateDoc(doc(db, \"users\", id), {\n        role: newRole\n      });\n      updateUserLocally(id, {\n        role: newRole\n      });\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to update user role.\");\n    }\n  };\n  const handleToggleBan = async (id, currentBanned) => {\n    try {\n      const next = !currentBanned;\n      await updateDoc(doc(db, \"users\", id), {\n        banned: next\n      });\n      updateUserLocally(id, {\n        banned: next\n      });\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to update ban status.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto px-4 py-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-900\",\n          children: \"Manage Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-slate-500\",\n          children: \"View accounts, promote admins, and suspend problem users.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin\",\n          className: \"px-4 py-2 rounded-full border border-slate-300 hover:bg-slate-100 text-sm\",\n          children: \"\\u2190 Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/admin/listings\",\n          className: \"px-4 py-2 rounded-full border border-slate-300 hover:bg-slate-100 text-sm\",\n          children: \"\\uD83C\\uDFE0 Manage Listings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-5 text-sm\",\n      children: [{\n        id: \"all\",\n        label: \"All users\"\n      }, {\n        id: \"admins\",\n        label: \"Admins\"\n      }, {\n        id: \"banned\",\n        label: \"Banned\"\n      }].map(f => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFilter(f.id),\n        className: `px-4 py-1.5 rounded-full border ${filter === f.id ? \"bg-blue-600 text-white border-blue-600\" : \"border-slate-300 text-slate-700 hover:bg-slate-100\"}`,\n        children: f.label\n      }, f.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 rounded bg-red-50 text-red-700 px-3 py-2 text-sm\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-slate-500 mb-3\",\n      children: \"Loading users\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto rounded-xl border border-slate-200 bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"w-full text-left text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"border-b bg-slate-50\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-3\",\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-3\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-3\",\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-3\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-3 w-52\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [users.map(u => {\n            const initial = (u.displayName || u.email || \"?\").substring(0, 2).toUpperCase() || \"?\";\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"border-b last:border-none\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"h-8 w-8 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center text-[10px] font-semibold text-slate-600\",\n                    children: u.photoURL ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: u.photoURL,\n                      alt: u.displayName || u.email || u.id,\n                      className: \"w-full h-full object-cover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 27\n                    }, this) : initial\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-slate-900\",\n                      children: u.displayName || \"Unnamed user\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-[11px] text-slate-400\",\n                      children: u.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 178,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-3 text-slate-700\",\n                children: u.email || /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-slate-400\",\n                  children: \"(no email stored)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-3\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: u.role || \"user\",\n                  onChange: e => handleChangeRole(u.id, e.target.value),\n                  className: \"text-xs border border-slate-300 rounded px-2 py-1 bg-white\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"user\",\n                    children: \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"admin\",\n                    children: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-3\",\n                children: u.banned ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold\",\n                  children: \"Banned\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 rounded-full bg-green-100 text-green-700 text-xs font-semibold\",\n                  children: \"Active\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"py-3 px-3\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleToggleBan(u.id, u.banned),\n                    className: `px-2 py-1 text-xs rounded ${u.banned ? \"bg-green-600 text-white hover:bg-green-700\" : \"bg-red-600 text-white hover:bg-red-700\"}`,\n                    children: u.banned ? \"Unban\" : \"Ban\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 19\n              }, this)]\n            }, u.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this);\n          }), users.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 5,\n              className: \"py-6 text-center text-slate-500 text-sm\",\n              children: \"No users found for this filter.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4 text-[11px] text-slate-400\",\n      children: [\"Changes here update the Firestore \", /*#__PURE__*/_jsxDEV(\"code\", {\n        children: \"users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 43\n      }, this), \" collection. Make sure your security rules only allow admins to perform these actions.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminUsers, \"TFuFy1qAMo6b6OcWC5w8uxeg3WA=\");\n_c = AdminUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminUsers\");","map":{"version":3,"names":["React","useEffect","useState","Link","collection","getDocs","updateDoc","doc","orderBy","db","jsxDEV","_jsxDEV","AdminUsers","_s","users","setUsers","filter","setFilter","loading","setLoading","error","setError","loadUsers","snap","data","docs","map","d","id","u","role","banned","err","console","updateUserLocally","partial","prev","handleChangeRole","newRole","alert","handleToggleBan","currentBanned","next","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","label","f","onClick","initial","displayName","email","substring","toUpperCase","photoURL","src","alt","value","onChange","e","target","length","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/pages/AdminUsers.jsx"],"sourcesContent":["// src/pages/AdminUsers.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  updateDoc,\r\n  doc,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"../firebase/config.js\";\r\n\r\nexport default function AdminUsers() {\r\n  const [users, setUsers] = useState([]);\r\n  const [filter, setFilter] = useState(\"all\"); // all | admins | banned\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const loadUsers = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const snap = await getDocs(\r\n        // if you add updatedAt later, you can orderBy(\"updatedAt\", \"desc\")\r\n        collection(db, \"users\")\r\n      );\r\n\r\n      let data = snap.docs.map((d) => ({\r\n        id: d.id,\r\n        ...d.data(),\r\n      }));\r\n\r\n      if (filter === \"admins\") {\r\n        data = data.filter((u) => u.role === \"admin\");\r\n      } else if (filter === \"banned\") {\r\n        data = data.filter((u) => u.banned === true);\r\n      }\r\n\r\n      setUsers(data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Failed to load users.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadUsers();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [filter]);\r\n\r\n  const updateUserLocally = (id, partial) => {\r\n    setUsers((prev) =>\r\n      prev.map((u) => (u.id === id ? { ...u, ...partial } : u))\r\n    );\r\n  };\r\n\r\n  const handleChangeRole = async (id, newRole) => {\r\n    try {\r\n      await updateDoc(doc(db, \"users\", id), { role: newRole });\r\n      updateUserLocally(id, { role: newRole });\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to update user role.\");\r\n    }\r\n  };\r\n\r\n  const handleToggleBan = async (id, currentBanned) => {\r\n    try {\r\n      const next = !currentBanned;\r\n      await updateDoc(doc(db, \"users\", id), { banned: next });\r\n      updateUserLocally(id, { banned: next });\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to update ban status.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-10\">\r\n      {/* HEADER */}\r\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-3\">\r\n        <div>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">\r\n            Manage Users\r\n          </h1>\r\n          <p className=\"text-sm text-slate-500\">\r\n            View accounts, promote admins, and suspend problem users.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          <Link\r\n            to=\"/admin\"\r\n            className=\"px-4 py-2 rounded-full border border-slate-300 hover:bg-slate-100 text-sm\"\r\n          >\r\n            ‚Üê Back to Dashboard\r\n          </Link>\r\n          <Link\r\n            to=\"/admin/listings\"\r\n            className=\"px-4 py-2 rounded-full border border-slate-300 hover:bg-slate-100 text-sm\"\r\n          >\r\n            üè† Manage Listings\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* FILTER TABS */}\r\n      <div className=\"flex gap-2 mb-5 text-sm\">\r\n        {[\r\n          { id: \"all\", label: \"All users\" },\r\n          { id: \"admins\", label: \"Admins\" },\r\n          { id: \"banned\", label: \"Banned\" },\r\n        ].map((f) => (\r\n          <button\r\n            key={f.id}\r\n            onClick={() => setFilter(f.id)}\r\n            className={`px-4 py-1.5 rounded-full border ${\r\n              filter === f.id\r\n                ? \"bg-blue-600 text-white border-blue-600\"\r\n                : \"border-slate-300 text-slate-700 hover:bg-slate-100\"\r\n            }`}\r\n          >\r\n            {f.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 rounded bg-red-50 text-red-700 px-3 py-2 text-sm\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {loading && (\r\n        <p className=\"text-sm text-slate-500 mb-3\">Loading users‚Ä¶</p>\r\n      )}\r\n\r\n      {/* USERS TABLE */}\r\n      <div className=\"overflow-x-auto rounded-xl border border-slate-200 bg-white\">\r\n        <table className=\"w-full text-left text-sm\">\r\n          <thead className=\"border-b bg-slate-50\">\r\n            <tr>\r\n              <th className=\"py-2 px-3\">User</th>\r\n              <th className=\"py-2 px-3\">Email</th>\r\n              <th className=\"py-2 px-3\">Role</th>\r\n              <th className=\"py-2 px-3\">Status</th>\r\n              <th className=\"py-2 px-3 w-52\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {users.map((u) => {\r\n              const initial =\r\n                (u.displayName || u.email || \"?\")\r\n                  .substring(0, 2)\r\n                  .toUpperCase() || \"?\";\r\n\r\n              return (\r\n                <tr key={u.id} className=\"border-b last:border-none\">\r\n                  <td className=\"py-3 px-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <div className=\"h-8 w-8 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center text-[10px] font-semibold text-slate-600\">\r\n                        {u.photoURL ? (\r\n                          <img\r\n                            src={u.photoURL}\r\n                            alt={u.displayName || u.email || u.id}\r\n                            className=\"w-full h-full object-cover\"\r\n                          />\r\n                        ) : (\r\n                          initial\r\n                        )}\r\n                      </div>\r\n                      <div>\r\n                        <div className=\"font-medium text-slate-900\">\r\n                          {u.displayName || \"Unnamed user\"}\r\n                        </div>\r\n                        <div className=\"text-[11px] text-slate-400\">\r\n                          {u.id}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n\r\n                  <td className=\"py-3 px-3 text-slate-700\">\r\n                    {u.email || (\r\n                      <span className=\"text-xs text-slate-400\">\r\n                        (no email stored)\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n\r\n                  <td className=\"py-3 px-3\">\r\n                    <select\r\n                      value={u.role || \"user\"}\r\n                      onChange={(e) =>\r\n                        handleChangeRole(u.id, e.target.value)\r\n                      }\r\n                      className=\"text-xs border border-slate-300 rounded px-2 py-1 bg-white\"\r\n                    >\r\n                      <option value=\"user\">User</option>\r\n                      <option value=\"admin\">Admin</option>\r\n                    </select>\r\n                  </td>\r\n\r\n                  <td className=\"py-3 px-3\">\r\n                    {u.banned ? (\r\n                      <span className=\"px-2 py-1 rounded-full bg-red-100 text-red-700 text-xs font-semibold\">\r\n                        Banned\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"px-2 py-1 rounded-full bg-green-100 text-green-700 text-xs font-semibold\">\r\n                        Active\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n\r\n                  <td className=\"py-3 px-3\">\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      <button\r\n                        onClick={() => handleToggleBan(u.id, u.banned)}\r\n                        className={`px-2 py-1 text-xs rounded ${\r\n                          u.banned\r\n                            ? \"bg-green-600 text-white hover:bg-green-700\"\r\n                            : \"bg-red-600 text-white hover:bg-red-700\"\r\n                        }`}\r\n                      >\r\n                        {u.banned ? \"Unban\" : \"Ban\"}\r\n                      </button>\r\n\r\n                      {/* Future: impersonate, reset password, etc. */}\r\n                      {/* <button className=\"px-2 py-1 text-xs rounded border border-slate-300 hover:bg-slate-100\">\r\n                        More\r\n                      </button> */}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n\r\n            {users.length === 0 && !loading && (\r\n              <tr>\r\n                <td\r\n                  colSpan={5}\r\n                  className=\"py-6 text-center text-slate-500 text-sm\"\r\n                >\r\n                  No users found for this filter.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <p className=\"mt-4 text-[11px] text-slate-400\">\r\n        Changes here update the Firestore <code>users</code> collection. Make\r\n        sure your security rules only allow admins to perform these actions.\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}