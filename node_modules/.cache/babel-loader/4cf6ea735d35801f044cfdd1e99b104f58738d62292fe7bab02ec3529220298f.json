{"ast":null,"code":"import { collection, addDoc, doc, getDoc, getDocs, updateDoc, deleteDoc, query, where, orderBy } from \"firebase/firestore\";\nimport { db } from \"./config\";\nconst LISTINGS_COL = \"listings\";\nexport async function createListing(ownerId, data) {\n  const ref = await addDoc(collection(db, LISTINGS_COL), {\n    ...data,\n    ownerId,\n    status: \"active\",\n    createdAt: new Date()\n  });\n  const snap = await getDoc(ref);\n  return {\n    id: ref.id,\n    ...snap.data()\n  };\n}\nexport async function getListing(id) {\n  const ref = doc(db, LISTINGS_COL, id);\n  const snap = await getDoc(ref);\n  return snap.exists() ? {\n    id: snap.id,\n    ...snap.data()\n  } : null;\n}\nexport async function getAllListings() {\n  const q = query(collection(db, LISTINGS_COL), where(\"status\", \"==\", \"active\"), orderBy(\"createdAt\", \"desc\"));\n  const snap = await getDocs(q);\n  return snap.docs.map(d => ({\n    id: d.id,\n    ...d.data()\n  }));\n}\nexport async function getListingsForUser(ownerId) {\n  const q = query(collection(db, LISTINGS_COL), where(\"ownerId\", \"==\", ownerId), orderBy(\"createdAt\", \"desc\"));\n  const snap = await getDocs(q);\n  return snap.docs.map(d => ({\n    id: d.id,\n    ...d.data()\n  }));\n}\nexport async function updateListing(id, data) {\n  const ref = doc(db, LISTINGS_COL, id);\n  await updateDoc(ref, data);\n}\nexport async function deleteListing(id) {\n  const ref = doc(db, LISTINGS_COL, id);\n  await deleteDoc(ref);\n}","map":{"version":3,"names":["collection","addDoc","doc","getDoc","getDocs","updateDoc","deleteDoc","query","where","orderBy","db","LISTINGS_COL","createListing","ownerId","data","ref","status","createdAt","Date","snap","id","getListing","exists","getAllListings","q","docs","map","d","getListingsForUser","updateListing","deleteListing"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/firebase/listings.js"],"sourcesContent":["import {\r\n  collection,\r\n  addDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  updateDoc,\r\n  deleteDoc,\r\n  query,\r\n  where,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./config\";\r\n\r\nconst LISTINGS_COL = \"listings\";\r\n\r\nexport async function createListing(ownerId, data) {\r\n  const ref = await addDoc(collection(db, LISTINGS_COL), {\r\n    ...data,\r\n    ownerId,\r\n    status: \"active\",\r\n    createdAt: new Date(),\r\n  });\r\n  const snap = await getDoc(ref);\r\n  return { id: ref.id, ...snap.data() };\r\n}\r\n\r\nexport async function getListing(id) {\r\n  const ref = doc(db, LISTINGS_COL, id);\r\n  const snap = await getDoc(ref);\r\n  return snap.exists() ? { id: snap.id, ...snap.data() } : null;\r\n}\r\n\r\nexport async function getAllListings() {\r\n  const q = query(\r\n    collection(db, LISTINGS_COL),\r\n    where(\"status\", \"==\", \"active\"),\r\n    orderBy(\"createdAt\", \"desc\")\r\n  );\r\n  const snap = await getDocs(q);\r\n  return snap.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n}\r\n\r\nexport async function getListingsForUser(ownerId) {\r\n  const q = query(\r\n    collection(db, LISTINGS_COL),\r\n    where(\"ownerId\", \"==\", ownerId),\r\n    orderBy(\"createdAt\", \"desc\")\r\n  );\r\n  const snap = await getDocs(q);\r\n  return snap.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n}\r\n\r\nexport async function updateListing(id, data) {\r\n  const ref = doc(db, LISTINGS_COL, id);\r\n  await updateDoc(ref, data);\r\n}\r\n\r\nexport async function deleteListing(id) {\r\n  const ref = doc(db, LISTINGS_COL, id);\r\n  await deleteDoc(ref);\r\n}\r\n"],"mappings":"AAAA,SACEA,UAAU,EACVC,MAAM,EACNC,GAAG,EACHC,MAAM,EACNC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTC,KAAK,EACLC,KAAK,EACLC,OAAO,QACF,oBAAoB;AAC3B,SAASC,EAAE,QAAQ,UAAU;AAE7B,MAAMC,YAAY,GAAG,UAAU;AAE/B,OAAO,eAAeC,aAAaA,CAACC,OAAO,EAAEC,IAAI,EAAE;EACjD,MAAMC,GAAG,GAAG,MAAMd,MAAM,CAACD,UAAU,CAACU,EAAE,EAAEC,YAAY,CAAC,EAAE;IACrD,GAAGG,IAAI;IACPD,OAAO;IACPG,MAAM,EAAE,QAAQ;IAChBC,SAAS,EAAE,IAAIC,IAAI,CAAC;EACtB,CAAC,CAAC;EACF,MAAMC,IAAI,GAAG,MAAMhB,MAAM,CAACY,GAAG,CAAC;EAC9B,OAAO;IAAEK,EAAE,EAAEL,GAAG,CAACK,EAAE;IAAE,GAAGD,IAAI,CAACL,IAAI,CAAC;EAAE,CAAC;AACvC;AAEA,OAAO,eAAeO,UAAUA,CAACD,EAAE,EAAE;EACnC,MAAML,GAAG,GAAGb,GAAG,CAACQ,EAAE,EAAEC,YAAY,EAAES,EAAE,CAAC;EACrC,MAAMD,IAAI,GAAG,MAAMhB,MAAM,CAACY,GAAG,CAAC;EAC9B,OAAOI,IAAI,CAACG,MAAM,CAAC,CAAC,GAAG;IAAEF,EAAE,EAAED,IAAI,CAACC,EAAE;IAAE,GAAGD,IAAI,CAACL,IAAI,CAAC;EAAE,CAAC,GAAG,IAAI;AAC/D;AAEA,OAAO,eAAeS,cAAcA,CAAA,EAAG;EACrC,MAAMC,CAAC,GAAGjB,KAAK,CACbP,UAAU,CAACU,EAAE,EAAEC,YAAY,CAAC,EAC5BH,KAAK,CAAC,QAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,EAC/BC,OAAO,CAAC,WAAW,EAAE,MAAM,CAC7B,CAAC;EACD,MAAMU,IAAI,GAAG,MAAMf,OAAO,CAACoB,CAAC,CAAC;EAC7B,OAAOL,IAAI,CAACM,IAAI,CAACC,GAAG,CAAEC,CAAC,KAAM;IAAEP,EAAE,EAAEO,CAAC,CAACP,EAAE;IAAE,GAAGO,CAAC,CAACb,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AAC1D;AAEA,OAAO,eAAec,kBAAkBA,CAACf,OAAO,EAAE;EAChD,MAAMW,CAAC,GAAGjB,KAAK,CACbP,UAAU,CAACU,EAAE,EAAEC,YAAY,CAAC,EAC5BH,KAAK,CAAC,SAAS,EAAE,IAAI,EAAEK,OAAO,CAAC,EAC/BJ,OAAO,CAAC,WAAW,EAAE,MAAM,CAC7B,CAAC;EACD,MAAMU,IAAI,GAAG,MAAMf,OAAO,CAACoB,CAAC,CAAC;EAC7B,OAAOL,IAAI,CAACM,IAAI,CAACC,GAAG,CAAEC,CAAC,KAAM;IAAEP,EAAE,EAAEO,CAAC,CAACP,EAAE;IAAE,GAAGO,CAAC,CAACb,IAAI,CAAC;EAAE,CAAC,CAAC,CAAC;AAC1D;AAEA,OAAO,eAAee,aAAaA,CAACT,EAAE,EAAEN,IAAI,EAAE;EAC5C,MAAMC,GAAG,GAAGb,GAAG,CAACQ,EAAE,EAAEC,YAAY,EAAES,EAAE,CAAC;EACrC,MAAMf,SAAS,CAACU,GAAG,EAAED,IAAI,CAAC;AAC5B;AAEA,OAAO,eAAegB,aAAaA,CAACV,EAAE,EAAE;EACtC,MAAML,GAAG,GAAGb,GAAG,CAACQ,EAAE,EAAEC,YAAY,EAAES,EAAE,CAAC;EACrC,MAAMd,SAAS,CAACS,GAAG,CAAC;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}