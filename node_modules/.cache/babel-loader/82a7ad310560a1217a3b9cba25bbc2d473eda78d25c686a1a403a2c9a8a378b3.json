{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Floyd\\\\Desktop\\\\Websites\\\\HIAWTO\\\\hi-awto-clean\\\\src\\\\pages\\\\Home.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getAllListings } from \"../firebase/listings.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FALLBACK_IMG = \"/placeholder-listing.jpg\";\nfunction isNewListing(listing, days = 14) {\n  if (!(listing !== null && listing !== void 0 && listing.createdAt)) return false;\n  try {\n    let created;\n    // Firestore Timestamp\n    if (typeof listing.createdAt.toMillis === \"function\") {\n      created = new Date(listing.createdAt.toMillis());\n    } else {\n      created = new Date(listing.createdAt);\n    }\n    if (!created || Number.isNaN(created.getTime())) return false;\n    const diffMs = Date.now() - created.getTime();\n    const diffDays = diffMs / (1000 * 60 * 60 * 24);\n    return diffDays <= days;\n  } catch {\n    return false;\n  }\n}\nexport default function Home() {\n  _s();\n  const [listings, setListings] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  // Filters / sort\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [minPrice, setMinPrice] = useState(\"\");\n  const [maxPrice, setMaxPrice] = useState(\"\");\n  const [featuredOnly, setFeaturedOnly] = useState(false);\n  const [newOnly, setNewOnly] = useState(false);\n  const [sortBy, setSortBy] = useState(\"newest\");\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const data = await getAllListings();\n        setListings(Array.isArray(data) ? data : []);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n  const filteredListings = useMemo(() => {\n    let result = [...listings];\n\n    // Text search across title + address + description + location\n    const term = searchTerm.trim().toLowerCase();\n    if (term) {\n      result = result.filter(l => {\n        const haystack = [l.title, l.address, l.description, l.city, l.state].filter(Boolean).join(\" \").toLowerCase();\n        return haystack.includes(term);\n      });\n    }\n\n    // Price filters\n    const min = minPrice ? Number(minPrice) : null;\n    const max = maxPrice ? Number(maxPrice) : null;\n    if (min != null && !Number.isNaN(min)) {\n      result = result.filter(l => {\n        const price = l.price != null ? Number(l.price) : null;\n        return price == null || price >= min;\n      });\n    }\n    if (max != null && !Number.isNaN(max)) {\n      result = result.filter(l => {\n        const price = l.price != null ? Number(l.price) : null;\n        return price == null || price <= max;\n      });\n    }\n    if (featuredOnly) {\n      result = result.filter(l => !!l.featured);\n    }\n    if (newOnly) {\n      result = result.filter(l => isNewListing(l));\n    }\n\n    // Sorting\n    result.sort((a, b) => {\n      switch (sortBy) {\n        case \"priceLow\":\n          return (a.price || 0) - (b.price || 0);\n        case \"priceHigh\":\n          return (b.price || 0) - (a.price || 0);\n        case \"featured\":\n          {\n            var _a$createdAt, _a$createdAt$toMillis, _b$createdAt, _b$createdAt$toMillis;\n            // Featured first, then newest by createdAt\n            const featuredDiff = Number(!!b.featured) - Number(!!a.featured);\n            if (featuredDiff !== 0) return featuredDiff;\n            const aTime = ((_a$createdAt = a.createdAt) === null || _a$createdAt === void 0 ? void 0 : (_a$createdAt$toMillis = _a$createdAt.toMillis) === null || _a$createdAt$toMillis === void 0 ? void 0 : _a$createdAt$toMillis.call(_a$createdAt)) || 0;\n            const bTime = ((_b$createdAt = b.createdAt) === null || _b$createdAt === void 0 ? void 0 : (_b$createdAt$toMillis = _b$createdAt.toMillis) === null || _b$createdAt$toMillis === void 0 ? void 0 : _b$createdAt$toMillis.call(_b$createdAt)) || 0;\n            return bTime - aTime;\n          }\n        case \"newest\":\n        default:\n          {\n            var _a$createdAt2, _a$createdAt2$toMilli, _b$createdAt2, _b$createdAt2$toMilli;\n            const aTime = ((_a$createdAt2 = a.createdAt) === null || _a$createdAt2 === void 0 ? void 0 : (_a$createdAt2$toMilli = _a$createdAt2.toMillis) === null || _a$createdAt2$toMilli === void 0 ? void 0 : _a$createdAt2$toMilli.call(_a$createdAt2)) || 0;\n            const bTime = ((_b$createdAt2 = b.createdAt) === null || _b$createdAt2 === void 0 ? void 0 : (_b$createdAt2$toMilli = _b$createdAt2.toMillis) === null || _b$createdAt2$toMilli === void 0 ? void 0 : _b$createdAt2$toMilli.call(_b$createdAt2)) || 0;\n            return bTime - aTime;\n          }\n      }\n    });\n    return result;\n  }, [listings, searchTerm, minPrice, maxPrice, featuredOnly, newOnly, sortBy]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-6xl mx-auto px-4 py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex flex-col items-center text-center mb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"HI AWTO\",\n          className: \"h-28 w-auto mb-4 drop-shadow-sm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm tracking-[0.25em] text-blue-700 font-semibold mb-2\",\n          children: \"HERE IS ANOTHER WAY TO OWN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-900 mb-3\",\n          children: \"Lease-to-Own Homes, Made Simple.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm md:text-base max-w-2xl\",\n          children: \"Browse flexible lease-to-own properties, compare options, and connect with the HI AWTO team to start your path to ownership.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5 flex flex-wrap gap-3 justify-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#listings\",\n            className: \"px-5 py-2 rounded-full bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700\",\n            children: \"Browse Listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            className: \"px-5 py-2 rounded-full border border-blue-200 text-blue-700 text-sm font-semibold hover:bg-blue-50\",\n            children: \"Get Started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow-sm rounded-2xl p-4 md:p-5 border border-slate-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid gap-4 md:grid-cols-[2fr,1fr,1fr] mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search by city, address, or keyword\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide\",\n                children: \"Min Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"0\",\n                value: minPrice,\n                onChange: e => setMinPrice(e.target.value),\n                placeholder: \"$\",\n                className: \"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide\",\n                children: \"Max Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"0\",\n                value: maxPrice,\n                onChange: e => setMaxPrice(e.target.value),\n                placeholder: \"$\",\n                className: \"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap items-center gap-4 justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-4 items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"inline-flex items-center gap-2 text-xs text-slate-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  className: \"h-4 w-4\",\n                  checked: featuredOnly,\n                  onChange: e => setFeaturedOnly(e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), \"Featured only\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"inline-flex items-center gap-2 text-xs text-slate-700\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  className: \"h-4 w-4\",\n                  checked: newOnly,\n                  onChange: e => setNewOnly(e.target.checked)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 19\n                }, this), \"New in last 14 days\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-[11px] font-semibold text-slate-500 mb-1 uppercase tracking-wide text-right\",\n                children: \"Sort by\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: sortBy,\n                onChange: e => setSortBy(e.target.value),\n                className: \"border rounded-lg px-2 py-1.5 text-xs md:text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"newest\",\n                  children: \"Newest first\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"featured\",\n                  children: \"Featured first\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"priceLow\",\n                  children: \"Price: Low to High\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"priceHigh\",\n                  children: \"Price: High to Low\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"listings\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg md:text-xl font-semibold text-slate-900\",\n            children: \"Available Lease-to-Own Listings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Showing \", filteredListings.length, \" of \", listings.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 text-sm\",\n          children: \"Loading listings\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), !loading && filteredListings.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 text-sm\",\n          children: \"No listings match your filters. Try adjusting your search.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 grid gap-5 sm:grid-cols-2 lg:grid-cols-3\",\n          children: filteredListings.map(listing => {\n            var _listing$price, _listing$price$toLoca, _listing$downPayment, _listing$downPayment$;\n            const mainImage = listing.imageUrls && listing.imageUrls[0] || FALLBACK_IMG;\n            const isNew = isNewListing(listing);\n            return /*#__PURE__*/_jsxDEV(Link, {\n              to: `/listing/${listing.id}`,\n              className: \"bg-white rounded-2xl shadow-sm hover:shadow-md transition overflow-hidden border border-slate-100 flex flex-col\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative h-40 bg-gray-200 overflow-hidden\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: mainImage,\n                  alt: listing.title || \"Listing\",\n                  className: \"w-full h-full object-cover hover:scale-105 transition-transform\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute top-2 left-2 flex gap-1\",\n                  children: [listing.featured && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-yellow-400 text-slate-900 shadow\",\n                    children: \"FEATURED\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 25\n                  }, this), isNew && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-600 text-white shadow\",\n                    children: \"NEW\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 flex flex-col p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-slate-900 text-base line-clamp-1\",\n                  children: listing.title || \"Untitled listing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 text-xs mt-1 line-clamp-2\",\n                  children: listing.address || \"No address provided\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-blue-600 font-semibold text-sm\",\n                    children: [\"$\", ((_listing$price = listing.price) === null || _listing$price === void 0 ? void 0 : (_listing$price$toLoca = _listing$price.toLocaleString) === null || _listing$price$toLoca === void 0 ? void 0 : _listing$price$toLoca.call(_listing$price)) || listing.price, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-500 font-normal\",\n                      children: \"total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-green-600 text-xs mt-0.5\",\n                    children: [\"$\", ((_listing$downPayment = listing.downPayment) === null || _listing$downPayment === void 0 ? void 0 : (_listing$downPayment$ = _listing$downPayment.toLocaleString) === null || _listing$downPayment$ === void 0 ? void 0 : _listing$downPayment$.call(_listing$downPayment)) || listing.downPayment, \" \", \"down\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)]\n            }, listing.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"PQzEI8QxyJG7AkZFuoRCTqs3drw=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","Link","getAllListings","jsxDEV","_jsxDEV","FALLBACK_IMG","isNewListing","listing","days","createdAt","created","toMillis","Date","Number","isNaN","getTime","diffMs","now","diffDays","Home","_s","listings","setListings","loading","setLoading","searchTerm","setSearchTerm","minPrice","setMinPrice","maxPrice","setMaxPrice","featuredOnly","setFeaturedOnly","newOnly","setNewOnly","sortBy","setSortBy","data","Array","isArray","filteredListings","result","term","trim","toLowerCase","filter","l","haystack","title","address","description","city","state","Boolean","join","includes","min","max","price","featured","sort","a","b","_a$createdAt","_a$createdAt$toMillis","_b$createdAt","_b$createdAt$toMillis","featuredDiff","aTime","call","bTime","_a$createdAt2","_a$createdAt2$toMilli","_b$createdAt2","_b$createdAt2$toMilli","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","href","to","type","placeholder","value","onChange","e","target","checked","id","length","map","_listing$price","_listing$price$toLoca","_listing$downPayment","_listing$downPayment$","mainImage","imageUrls","isNew","toLocaleString","downPayment","_c","$RefreshReg$"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/pages/Home.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getAllListings } from \"../firebase/listings.js\";\r\n\r\nconst FALLBACK_IMG = \"/placeholder-listing.jpg\";\r\n\r\nfunction isNewListing(listing, days = 14) {\r\n  if (!listing?.createdAt) return false;\r\n  try {\r\n    let created;\r\n    // Firestore Timestamp\r\n    if (typeof listing.createdAt.toMillis === \"function\") {\r\n      created = new Date(listing.createdAt.toMillis());\r\n    } else {\r\n      created = new Date(listing.createdAt);\r\n    }\r\n    if (!created || Number.isNaN(created.getTime())) return false;\r\n    const diffMs = Date.now() - created.getTime();\r\n    const diffDays = diffMs / (1000 * 60 * 60 * 24);\r\n    return diffDays <= days;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default function Home() {\r\n  const [listings, setListings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Filters / sort\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [minPrice, setMinPrice] = useState(\"\");\r\n  const [maxPrice, setMaxPrice] = useState(\"\");\r\n  const [featuredOnly, setFeaturedOnly] = useState(false);\r\n  const [newOnly, setNewOnly] = useState(false);\r\n  const [sortBy, setSortBy] = useState(\"newest\");\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const data = await getAllListings();\r\n        setListings(Array.isArray(data) ? data : []);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const filteredListings = useMemo(() => {\r\n    let result = [...listings];\r\n\r\n    // Text search across title + address + description + location\r\n    const term = searchTerm.trim().toLowerCase();\r\n    if (term) {\r\n      result = result.filter((l) => {\r\n        const haystack = [\r\n          l.title,\r\n          l.address,\r\n          l.description,\r\n          l.city,\r\n          l.state,\r\n        ]\r\n          .filter(Boolean)\r\n          .join(\" \")\r\n          .toLowerCase();\r\n        return haystack.includes(term);\r\n      });\r\n    }\r\n\r\n    // Price filters\r\n    const min = minPrice ? Number(minPrice) : null;\r\n    const max = maxPrice ? Number(maxPrice) : null;\r\n\r\n    if (min != null && !Number.isNaN(min)) {\r\n      result = result.filter((l) => {\r\n        const price = l.price != null ? Number(l.price) : null;\r\n        return price == null || price >= min;\r\n      });\r\n    }\r\n\r\n    if (max != null && !Number.isNaN(max)) {\r\n      result = result.filter((l) => {\r\n        const price = l.price != null ? Number(l.price) : null;\r\n        return price == null || price <= max;\r\n      });\r\n    }\r\n\r\n    if (featuredOnly) {\r\n      result = result.filter((l) => !!l.featured);\r\n    }\r\n\r\n    if (newOnly) {\r\n      result = result.filter((l) => isNewListing(l));\r\n    }\r\n\r\n    // Sorting\r\n    result.sort((a, b) => {\r\n      switch (sortBy) {\r\n        case \"priceLow\":\r\n          return (a.price || 0) - (b.price || 0);\r\n        case \"priceHigh\":\r\n          return (b.price || 0) - (a.price || 0);\r\n        case \"featured\": {\r\n          // Featured first, then newest by createdAt\r\n          const featuredDiff = Number(!!b.featured) - Number(!!a.featured);\r\n          if (featuredDiff !== 0) return featuredDiff;\r\n          const aTime = a.createdAt?.toMillis?.() || 0;\r\n          const bTime = b.createdAt?.toMillis?.() || 0;\r\n          return bTime - aTime;\r\n        }\r\n        case \"newest\":\r\n        default: {\r\n          const aTime = a.createdAt?.toMillis?.() || 0;\r\n          const bTime = b.createdAt?.toMillis?.() || 0;\r\n          return bTime - aTime;\r\n        }\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }, [listings, searchTerm, minPrice, maxPrice, featuredOnly, newOnly, sortBy]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50\">\r\n      <main className=\"max-w-6xl mx-auto px-4 py-10\">\r\n        {/* HERO */}\r\n        <section className=\"flex flex-col items-center text-center mb-10\">\r\n          <img\r\n            src=\"/logo.png\"\r\n            alt=\"HI AWTO\"\r\n            className=\"h-28 w-auto mb-4 drop-shadow-sm\"\r\n          />\r\n          <p className=\"text-sm tracking-[0.25em] text-blue-700 font-semibold mb-2\">\r\n            HERE IS ANOTHER WAY TO OWN\r\n          </p>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900 mb-3\">\r\n            Lease-to-Own Homes, Made Simple.\r\n          </h1>\r\n          <p className=\"text-gray-600 text-sm md:text-base max-w-2xl\">\r\n            Browse flexible lease-to-own properties, compare options, and\r\n            connect with the HI AWTO team to start your path to ownership.\r\n          </p>\r\n\r\n          <div className=\"mt-5 flex flex-wrap gap-3 justify-center\">\r\n            <a\r\n              href=\"#listings\"\r\n              className=\"px-5 py-2 rounded-full bg-blue-600 text-white text-sm font-semibold hover:bg-blue-700\"\r\n            >\r\n              Browse Listings\r\n            </a>\r\n            <Link\r\n              to=\"/register\"\r\n              className=\"px-5 py-2 rounded-full border border-blue-200 text-blue-700 text-sm font-semibold hover:bg-blue-50\"\r\n            >\r\n              Get Started\r\n            </Link>\r\n          </div>\r\n        </section>\r\n\r\n        {/* FILTERS */}\r\n        <section className=\"mb-8\">\r\n          <div className=\"bg-white shadow-sm rounded-2xl p-4 md:p-5 border border-slate-100\">\r\n            <div className=\"grid gap-4 md:grid-cols-[2fr,1fr,1fr] mb-4\">\r\n              {/* Search */}\r\n              <div>\r\n                <label className=\"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide\">\r\n                  Search\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search by city, address, or keyword\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              {/* Min price */}\r\n              <div>\r\n                <label className=\"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide\">\r\n                  Min Price\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  value={minPrice}\r\n                  onChange={(e) => setMinPrice(e.target.value)}\r\n                  placeholder=\"$\"\r\n                  className=\"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n\r\n              {/* Max price */}\r\n              <div>\r\n                <label className=\"block text-xs font-semibold text-slate-500 mb-1 uppercase tracking-wide\">\r\n                  Max Price\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  min=\"0\"\r\n                  value={maxPrice}\r\n                  onChange={(e) => setMaxPrice(e.target.value)}\r\n                  placeholder=\"$\"\r\n                  className=\"w-full border rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-wrap items-center gap-4 justify-between\">\r\n              {/* Checkboxes */}\r\n              <div className=\"flex flex-wrap gap-4 items-center\">\r\n                <label className=\"inline-flex items-center gap-2 text-xs text-slate-700\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"h-4 w-4\"\r\n                    checked={featuredOnly}\r\n                    onChange={(e) => setFeaturedOnly(e.target.checked)}\r\n                  />\r\n                  Featured only\r\n                </label>\r\n                <label className=\"inline-flex items-center gap-2 text-xs text-slate-700\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    className=\"h-4 w-4\"\r\n                    checked={newOnly}\r\n                    onChange={(e) => setNewOnly(e.target.checked)}\r\n                  />\r\n                  New in last 14 days\r\n                </label>\r\n              </div>\r\n\r\n              {/* Sort */}\r\n              <div>\r\n                <label className=\"block text-[11px] font-semibold text-slate-500 mb-1 uppercase tracking-wide text-right\">\r\n                  Sort by\r\n                </label>\r\n                <select\r\n                  value={sortBy}\r\n                  onChange={(e) => setSortBy(e.target.value)}\r\n                  className=\"border rounded-lg px-2 py-1.5 text-xs md:text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                >\r\n                  <option value=\"newest\">Newest first</option>\r\n                  <option value=\"featured\">Featured first</option>\r\n                  <option value=\"priceLow\">Price: Low to High</option>\r\n                  <option value=\"priceHigh\">Price: High to Low</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* LISTINGS GRID */}\r\n        <section id=\"listings\">\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <h2 className=\"text-lg md:text-xl font-semibold text-slate-900\">\r\n              Available Lease-to-Own Listings\r\n            </h2>\r\n            {!loading && (\r\n              <p className=\"text-xs text-gray-500\">\r\n                Showing {filteredListings.length} of {listings.length}\r\n              </p>\r\n            )}\r\n          </div>\r\n\r\n          {loading && (\r\n            <p className=\"text-gray-500 text-sm\">Loading listingsâ€¦</p>\r\n          )}\r\n\r\n          {!loading && filteredListings.length === 0 && (\r\n            <p className=\"text-gray-600 text-sm\">\r\n              No listings match your filters. Try adjusting your search.\r\n            </p>\r\n          )}\r\n\r\n          <div className=\"mt-4 grid gap-5 sm:grid-cols-2 lg:grid-cols-3\">\r\n            {filteredListings.map((listing) => {\r\n              const mainImage =\r\n                (listing.imageUrls && listing.imageUrls[0]) || FALLBACK_IMG;\r\n              const isNew = isNewListing(listing);\r\n\r\n              return (\r\n                <Link\r\n                  key={listing.id}\r\n                  to={`/listing/${listing.id}`}\r\n                  className=\"bg-white rounded-2xl shadow-sm hover:shadow-md transition overflow-hidden border border-slate-100 flex flex-col\"\r\n                >\r\n                  <div className=\"relative h-40 bg-gray-200 overflow-hidden\">\r\n                    <img\r\n                      src={mainImage}\r\n                      alt={listing.title || \"Listing\"}\r\n                      className=\"w-full h-full object-cover hover:scale-105 transition-transform\"\r\n                    />\r\n\r\n                    <div className=\"absolute top-2 left-2 flex gap-1\">\r\n                      {listing.featured && (\r\n                        <span className=\"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-yellow-400 text-slate-900 shadow\">\r\n                          FEATURED\r\n                        </span>\r\n                      )}\r\n                      {isNew && (\r\n                        <span className=\"px-2 py-0.5 rounded-full text-[10px] font-semibold bg-blue-600 text-white shadow\">\r\n                          NEW\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex-1 flex flex-col p-4\">\r\n                    <h3 className=\"font-semibold text-slate-900 text-base line-clamp-1\">\r\n                      {listing.title || \"Untitled listing\"}\r\n                    </h3>\r\n                    <p className=\"text-gray-600 text-xs mt-1 line-clamp-2\">\r\n                      {listing.address || \"No address provided\"}\r\n                    </p>\r\n\r\n                    <div className=\"mt-3\">\r\n                      <p className=\"text-blue-600 font-semibold text-sm\">\r\n                        ${listing.price?.toLocaleString?.() || listing.price}{\" \"}\r\n                        <span className=\"text-gray-500 font-normal\">\r\n                          total\r\n                        </span>\r\n                      </p>\r\n                      <p className=\"text-green-600 text-xs mt-0.5\">\r\n                        $\r\n                        {listing.downPayment?.toLocaleString?.() ||\r\n                          listing.downPayment}{\" \"}\r\n                        down\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}