{"ast":null,"code":"import { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, updateProfile } from \"firebase/auth\";\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\nimport { auth, db } from \"./config\";\nexport async function registerUser({\n  email,\n  password,\n  displayName\n}) {\n  const cred = await createUserWithEmailAndPassword(auth, email, password);\n  if (displayName) {\n    await updateProfile(cred.user, {\n      displayName\n    });\n  }\n  const userRef = doc(db, \"users\", cred.user.uid);\n  const snap = await getDoc(userRef);\n  if (!snap.exists()) {\n    await setDoc(userRef, {\n      email,\n      displayName: displayName || \"\",\n      role: \"user\",\n      createdAt: new Date()\n    });\n  }\n  return cred.user;\n}\nexport async function loginUser({\n  email,\n  password\n}) {\n  const cred = await signInWithEmailAndPassword(auth, email, password);\n  return cred.user;\n}\nexport async function logout() {\n  return signOut(auth);\n}","map":{"version":3,"names":["createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","updateProfile","doc","setDoc","getDoc","auth","db","registerUser","email","password","displayName","cred","user","userRef","uid","snap","exists","role","createdAt","Date","loginUser","logout"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/firebase/auth.js"],"sourcesContent":["import {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  updateProfile,\r\n} from \"firebase/auth\";\r\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\r\nimport { auth, db } from \"./config\";\r\n\r\nexport async function registerUser({ email, password, displayName }) {\r\n  const cred = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n  if (displayName) {\r\n    await updateProfile(cred.user, { displayName });\r\n  }\r\n\r\n  const userRef = doc(db, \"users\", cred.user.uid);\r\n  const snap = await getDoc(userRef);\r\n\r\n  if (!snap.exists()) {\r\n    await setDoc(userRef, {\r\n      email,\r\n      displayName: displayName || \"\",\r\n      role: \"user\",\r\n      createdAt: new Date(),\r\n    });\r\n  }\r\n\r\n  return cred.user;\r\n}\r\n\r\nexport async function loginUser({ email, password }) {\r\n  const cred = await signInWithEmailAndPassword(auth, email, password);\r\n  return cred.user;\r\n}\r\n\r\nexport async function logout() {\r\n  return signOut(auth);\r\n}\r\n"],"mappings":"AAAA,SACEA,8BAA8B,EAC9BC,0BAA0B,EAC1BC,OAAO,EACPC,aAAa,QACR,eAAe;AACtB,SAASC,GAAG,EAAEC,MAAM,EAAEC,MAAM,QAAQ,oBAAoB;AACxD,SAASC,IAAI,EAAEC,EAAE,QAAQ,UAAU;AAEnC,OAAO,eAAeC,YAAYA,CAAC;EAAEC,KAAK;EAAEC,QAAQ;EAAEC;AAAY,CAAC,EAAE;EACnE,MAAMC,IAAI,GAAG,MAAMb,8BAA8B,CAACO,IAAI,EAAEG,KAAK,EAAEC,QAAQ,CAAC;EAExE,IAAIC,WAAW,EAAE;IACf,MAAMT,aAAa,CAACU,IAAI,CAACC,IAAI,EAAE;MAAEF;IAAY,CAAC,CAAC;EACjD;EAEA,MAAMG,OAAO,GAAGX,GAAG,CAACI,EAAE,EAAE,OAAO,EAAEK,IAAI,CAACC,IAAI,CAACE,GAAG,CAAC;EAC/C,MAAMC,IAAI,GAAG,MAAMX,MAAM,CAACS,OAAO,CAAC;EAElC,IAAI,CAACE,IAAI,CAACC,MAAM,CAAC,CAAC,EAAE;IAClB,MAAMb,MAAM,CAACU,OAAO,EAAE;MACpBL,KAAK;MACLE,WAAW,EAAEA,WAAW,IAAI,EAAE;MAC9BO,IAAI,EAAE,MAAM;MACZC,SAAS,EAAE,IAAIC,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ;EAEA,OAAOR,IAAI,CAACC,IAAI;AAClB;AAEA,OAAO,eAAeQ,SAASA,CAAC;EAAEZ,KAAK;EAAEC;AAAS,CAAC,EAAE;EACnD,MAAME,IAAI,GAAG,MAAMZ,0BAA0B,CAACM,IAAI,EAAEG,KAAK,EAAEC,QAAQ,CAAC;EACpE,OAAOE,IAAI,CAACC,IAAI;AAClB;AAEA,OAAO,eAAeS,MAAMA,CAAA,EAAG;EAC7B,OAAOrB,OAAO,CAACK,IAAI,CAAC;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}