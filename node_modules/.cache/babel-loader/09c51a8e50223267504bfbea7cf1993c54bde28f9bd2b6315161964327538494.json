{"ast":null,"code":"import _objectSpread from\"C:/Users/Floyd/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{collection,addDoc,doc,getDoc,getDocs,updateDoc,deleteDoc,query,where,orderBy}from\"firebase/firestore\";import{db}from\"./config\";const LISTINGS_COL=\"listings\";export async function createListing(ownerId,data){const ref=await addDoc(collection(db,LISTINGS_COL),_objectSpread(_objectSpread({},data),{},{ownerId,status:\"active\",createdAt:new Date()}));const snap=await getDoc(ref);return _objectSpread({id:ref.id},snap.data());}export async function getListing(id){const ref=doc(db,LISTINGS_COL,id);const snap=await getDoc(ref);return snap.exists()?_objectSpread({id:snap.id},snap.data()):null;}export async function getAllListings(){const q=query(collection(db,LISTINGS_COL),where(\"status\",\"==\",\"active\"),orderBy(\"createdAt\",\"desc\"));const snap=await getDocs(q);return snap.docs.map(d=>_objectSpread({id:d.id},d.data()));}export async function getListingsForUser(ownerId){const q=query(collection(db,LISTINGS_COL),where(\"ownerId\",\"==\",ownerId),orderBy(\"createdAt\",\"desc\"));const snap=await getDocs(q);return snap.docs.map(d=>_objectSpread({id:d.id},d.data()));}export async function updateListing(id,data){const ref=doc(db,LISTINGS_COL,id);await updateDoc(ref,data);}export async function deleteListing(id){const ref=doc(db,LISTINGS_COL,id);await deleteDoc(ref);}","map":{"version":3,"names":["collection","addDoc","doc","getDoc","getDocs","updateDoc","deleteDoc","query","where","orderBy","db","LISTINGS_COL","createListing","ownerId","data","ref","_objectSpread","status","createdAt","Date","snap","id","getListing","exists","getAllListings","q","docs","map","d","getListingsForUser","updateListing","deleteListing"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/firebase/listings.js"],"sourcesContent":["import {\r\n  collection,\r\n  addDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  updateDoc,\r\n  deleteDoc,\r\n  query,\r\n  where,\r\n  orderBy,\r\n} from \"firebase/firestore\";\r\nimport { db } from \"./config\";\r\n\r\nconst LISTINGS_COL = \"listings\";\r\n\r\nexport async function createListing(ownerId, data) {\r\n  const ref = await addDoc(collection(db, LISTINGS_COL), {\r\n    ...data,\r\n    ownerId,\r\n    status: \"active\",\r\n    createdAt: new Date(),\r\n  });\r\n  const snap = await getDoc(ref);\r\n  return { id: ref.id, ...snap.data() };\r\n}\r\n\r\nexport async function getListing(id) {\r\n  const ref = doc(db, LISTINGS_COL, id);\r\n  const snap = await getDoc(ref);\r\n  return snap.exists() ? { id: snap.id, ...snap.data() } : null;\r\n}\r\n\r\nexport async function getAllListings() {\r\n  const q = query(\r\n    collection(db, LISTINGS_COL),\r\n    where(\"status\", \"==\", \"active\"),\r\n    orderBy(\"createdAt\", \"desc\")\r\n  );\r\n  const snap = await getDocs(q);\r\n  return snap.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n}\r\n\r\nexport async function getListingsForUser(ownerId) {\r\n  const q = query(\r\n    collection(db, LISTINGS_COL),\r\n    where(\"ownerId\", \"==\", ownerId),\r\n    orderBy(\"createdAt\", \"desc\")\r\n  );\r\n  const snap = await getDocs(q);\r\n  return snap.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n}\r\n\r\nexport async function updateListing(id, data) {\r\n  const ref = doc(db, LISTINGS_COL, id);\r\n  await updateDoc(ref, data);\r\n}\r\n\r\nexport async function deleteListing(id) {\r\n  const ref = doc(db, LISTINGS_COL, id);\r\n  await deleteDoc(ref);\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}