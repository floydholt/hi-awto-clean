{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Floyd\\\\Desktop\\\\Websites\\\\HIAWTO\\\\hi-awto-clean\\\\src\\\\pages\\\\AdminListings.jsx\",\n  _s = $RefreshSig$();\n// src/pages/AdminListings.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { getAdminListings, approveListing, rejectListing, resetListingToPending, setListingFeatured } from \"../firebase/listings.js\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminListings() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [listings, setListings] = useState([]);\n  const [statusFilter, setStatusFilter] = useState(\"pending\"); // default to pending\n  const [fraudFilter, setFraudFilter] = useState(\"all\");\n  const [busyId, setBusyId] = useState(null);\n  const [error, setError] = useState(\"\");\n  const load = async () => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const data = await getAdminListings(\"all\");\n      setListings(data);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load listings.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const filtered = listings.filter(l => {\n    if (statusFilter !== \"all\" && (l.status || \"pending\") !== statusFilter) {\n      return false;\n    }\n    const s = typeof l.aiFraudScore === \"number\" ? l.aiFraudScore : null;\n    if (fraudFilter === \"high\" && !(s !== null && s >= 0.8)) return false;\n    if (fraudFilter === \"medium\" && !(s !== null && s >= 0.5 && s < 0.8)) return false;\n    if (fraudFilter === \"low\" && !(s !== null && s < 0.5)) return false;\n    return true;\n  });\n  const handleAction = async (id, action) => {\n    setBusyId(id);\n    setError(\"\");\n    try {\n      if (action === \"approve\") {\n        await approveListing(id);\n      } else if (action === \"reject\") {\n        const reason = window.prompt(\"Optional: enter a rejection reason (shown only in admin tools):\", \"\");\n        await rejectListing(id, reason || \"\");\n      } else if (action === \"reset\") {\n        await resetListingToPending(id);\n      }\n      await load();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to update listing.\");\n    } finally {\n      setBusyId(null);\n    }\n  };\n  const toggleFeatured = async (id, current) => {\n    setBusyId(id);\n    try {\n      await setListingFeatured(id, !current);\n      await load();\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to update featured state.\");\n    } finally {\n      setBusyId(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto px-4 py-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl md:text-3xl font-bold text-slate-900\",\n          children: \"Admin: Listings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-slate-500 mt-1\",\n          children: \"Moderate listings, review AI fraud flags, and manage featured homes.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/admin\",\n        className: \"px-4 py-2 rounded-full border border-slate-200 text-sm text-slate-700 hover:bg-slate-50\",\n        children: \"\\u2190 Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 rounded-lg bg-rose-50 text-rose-700 text-sm px-3 py-2 border border-rose-100\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap gap-3 items-center mb-4 text-xs\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-slate-500\",\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), [\"pending\", \"approved\", \"rejected\", \"all\"].map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStatusFilter(s),\n          className: `px-3 py-1 rounded-full border text-xs ${statusFilter === s ? \"bg-blue-600 text-white border-blue-600\" : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"}`,\n          children: s.charAt(0).toUpperCase() + s.slice(1)\n        }, s, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-slate-500\",\n          children: \"AI fraud:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), [{\n          key: \"all\",\n          label: \"All\"\n        }, {\n          key: \"high\",\n          label: \"High\"\n        }, {\n          key: \"medium\",\n          label: \"Medium\"\n        }, {\n          key: \"low\",\n          label: \"Low\"\n        }].map(f => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFraudFilter(f.key),\n          className: `px-3 py-1 rounded-full border text-xs ${fraudFilter === f.key ? \"bg-red-600 text-white border-red-600\" : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"}`,\n          children: f.label\n        }, f.key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hidden md:grid grid-cols-[2fr,1fr,1fr,1.5fr,1.5fr] gap-3 px-4 py-2 text-[11px] font-semibold text-slate-500 border-b border-slate-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"AI fraud / pricing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-4 text-xs text-slate-500\",\n        children: \"Loading\\u2026\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), !loading && filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 py-4 text-xs text-slate-500\",\n        children: \"No listings match these filters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-slate-100\",\n        children: filtered.map(l => {\n          var _ref, _l$aiPricing$estimate, _l$aiPricing, _l$aiPricing2, _l$aiPricing3, _l$price, _l$price$toLocaleStri, _l$downPayment, _l$downPayment$toLoca, _aiEstimate$toLocaleS, _l$aiPricing4;\n          const fraudScore = typeof l.aiFraudScore === \"number\" ? l.aiFraudScore : null;\n          const fraudPct = fraudScore !== null ? Math.round(fraudScore * 100) : null;\n          const aiEstimate = (_ref = (_l$aiPricing$estimate = (_l$aiPricing = l.aiPricing) === null || _l$aiPricing === void 0 ? void 0 : _l$aiPricing.estimate) !== null && _l$aiPricing$estimate !== void 0 ? _l$aiPricing$estimate : (_l$aiPricing2 = l.aiPricing) === null || _l$aiPricing2 === void 0 ? void 0 : _l$aiPricing2.price) !== null && _ref !== void 0 ? _ref : (_l$aiPricing3 = l.aiPricing) === null || _l$aiPricing3 === void 0 ? void 0 : _l$aiPricing3.suggested;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 py-3 text-xs md:grid md:grid-cols-[2fr,1fr,1fr,1.5fr,1.5fr] md:gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 md:mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium text-slate-900 text-sm\",\n                children: l.title || \"Untitled listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-[11px] text-slate-500\",\n                children: [l.address || \"No address\", \" \\u2022 ID: \", l.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this), l.featured && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mt-1 inline-flex px-2 py-0.5 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200 text-[10px]\",\n                children: \"Featured\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 md:mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold text-slate-900\",\n                children: [\"$\", ((_l$price = l.price) === null || _l$price === void 0 ? void 0 : (_l$price$toLocaleStri = _l$price.toLocaleString) === null || _l$price$toLocaleStri === void 0 ? void 0 : _l$price$toLocaleStri.call(_l$price)) || l.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-[11px] text-slate-500\",\n                children: [\"Down: $\", ((_l$downPayment = l.downPayment) === null || _l$downPayment === void 0 ? void 0 : (_l$downPayment$toLoca = _l$downPayment.toLocaleString) === null || _l$downPayment$toLoca === void 0 ? void 0 : _l$downPayment$toLoca.call(_l$downPayment)) || l.downPayment]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 md:mb-0 flex flex-col gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: l.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), typeof l.approved === \"boolean\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[10px] text-slate-500\",\n                children: [\"approved flag: \", String(l.approved)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 md:mb-0 flex flex-col gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(FraudBadge, {\n                score: fraudScore\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), aiEstimate != null && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[11px] text-slate-700\",\n                children: [\"AI est: $\", (aiEstimate === null || aiEstimate === void 0 ? void 0 : (_aiEstimate$toLocaleS = aiEstimate.toLocaleString) === null || _aiEstimate$toLocaleS === void 0 ? void 0 : _aiEstimate$toLocaleS.call(aiEstimate)) || aiEstimate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this), ((_l$aiPricing4 = l.aiPricing) === null || _l$aiPricing4 === void 0 ? void 0 : _l$aiPricing4.confidence) && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-[10px] text-slate-500\",\n                children: [\"Confidence: \", l.aiPricing.confidence]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-1 md:justify-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: busyId === l.id,\n                onClick: () => handleAction(l.id, \"approve\"),\n                className: \"px-2 py-1 rounded-full bg-emerald-600 text-white text-[11px] hover:bg-emerald-700 disabled:opacity-60\",\n                children: \"Approve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: busyId === l.id,\n                onClick: () => handleAction(l.id, \"reject\"),\n                className: \"px-2 py-1 rounded-full bg-rose-600 text-white text-[11px] hover:bg-rose-700 disabled:opacity-60\",\n                children: \"Reject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: busyId === l.id,\n                onClick: () => handleAction(l.id, \"reset\"),\n                className: \"px-2 py-1 rounded-full border border-slate-200 text-[11px] text-slate-700 hover:bg-slate-50 disabled:opacity-60\",\n                children: \"Reset\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: busyId === l.id,\n                onClick: () => toggleFeatured(l.id, l.featured),\n                className: \"px-2 py-1 rounded-full border border-indigo-200 text-[11px] text-indigo-700 hover:bg-indigo-50 disabled:opacity-60\",\n                children: l.featured ? \"Unfeature\" : \"Feature\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/listing/${l.id}`,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                className: \"px-2 py-1 rounded-full border border-slate-200 text-[11px] text-slate-700 hover:bg-slate-50\",\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, l.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminListings, \"kUOgcLO5dWkJZQUpSDf4klJVE1c=\");\n_c = AdminListings;\nfunction StatusBadge({\n  status\n}) {\n  const s = status || \"pending\";\n  let base = \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] border\";\n  if (s === \"approved\") {\n    base += \" bg-emerald-50 text-emerald-700 border-emerald-200\";\n  } else if (s === \"rejected\") {\n    base += \" bg-rose-50 text-rose-700 border-rose-200\";\n  } else {\n    base += \" bg-amber-50 text-amber-700 border-amber-200\";\n  }\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: base,\n    children: s.charAt(0).toUpperCase() + s.slice(1)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this);\n}\n_c2 = StatusBadge;\nfunction FraudBadge({\n  score\n}) {\n  if (score == null) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] bg-slate-50 text-slate-600 border border-slate-200\",\n      children: \"AI fraud: n/a\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this);\n  }\n  const pct = Math.round(score * 100);\n  let base = \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] border\";\n  if (score >= 0.8) {\n    base += \" bg-red-50 text-red-700 border-red-200\";\n  } else if (score >= 0.5) {\n    base += \" bg-amber-50 text-amber-700 border-amber-200\";\n  } else {\n    base += \" bg-emerald-50 text-emerald-700 border-emerald-200\";\n  }\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: base,\n    children: [\"AI fraud: \", pct, \"%\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 10\n  }, this);\n}\n_c3 = FraudBadge;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AdminListings\");\n$RefreshReg$(_c2, \"StatusBadge\");\n$RefreshReg$(_c3, \"FraudBadge\");","map":{"version":3,"names":["React","useEffect","useState","getAdminListings","approveListing","rejectListing","resetListingToPending","setListingFeatured","Link","jsxDEV","_jsxDEV","AdminListings","_s","loading","setLoading","listings","setListings","statusFilter","setStatusFilter","fraudFilter","setFraudFilter","busyId","setBusyId","error","setError","load","data","err","console","filtered","filter","l","status","s","aiFraudScore","handleAction","id","action","reason","window","prompt","toggleFeatured","current","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","map","onClick","charAt","toUpperCase","slice","key","label","f","length","_ref","_l$aiPricing$estimate","_l$aiPricing","_l$aiPricing2","_l$aiPricing3","_l$price","_l$price$toLocaleStri","_l$downPayment","_l$downPayment$toLoca","_aiEstimate$toLocaleS","_l$aiPricing4","fraudScore","fraudPct","Math","round","aiEstimate","aiPricing","estimate","price","suggested","title","address","featured","toLocaleString","call","downPayment","StatusBadge","approved","String","FraudBadge","score","confidence","disabled","target","rel","_c","base","_c2","pct","_c3","$RefreshReg$"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/pages/AdminListings.jsx"],"sourcesContent":["// src/pages/AdminListings.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getAdminListings,\r\n  approveListing,\r\n  rejectListing,\r\n  resetListingToPending,\r\n  setListingFeatured,\r\n} from \"../firebase/listings.js\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function AdminListings() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [listings, setListings] = useState([]);\r\n  const [statusFilter, setStatusFilter] = useState(\"pending\"); // default to pending\r\n  const [fraudFilter, setFraudFilter] = useState(\"all\");\r\n  const [busyId, setBusyId] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const load = async () => {\r\n    setLoading(true);\r\n    setError(\"\");\r\n    try {\r\n      const data = await getAdminListings(\"all\");\r\n      setListings(data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Failed to load listings.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  const filtered = listings.filter((l) => {\r\n    if (statusFilter !== \"all\" && (l.status || \"pending\") !== statusFilter) {\r\n      return false;\r\n    }\r\n\r\n    const s = typeof l.aiFraudScore === \"number\" ? l.aiFraudScore : null;\r\n    if (fraudFilter === \"high\" && !(s !== null && s >= 0.8)) return false;\r\n    if (fraudFilter === \"medium\" && !(s !== null && s >= 0.5 && s < 0.8))\r\n      return false;\r\n    if (fraudFilter === \"low\" && !(s !== null && s < 0.5)) return false;\r\n\r\n    return true;\r\n  });\r\n\r\n  const handleAction = async (id, action) => {\r\n    setBusyId(id);\r\n    setError(\"\");\r\n    try {\r\n      if (action === \"approve\") {\r\n        await approveListing(id);\r\n      } else if (action === \"reject\") {\r\n        const reason = window.prompt(\r\n          \"Optional: enter a rejection reason (shown only in admin tools):\",\r\n          \"\"\r\n        );\r\n        await rejectListing(id, reason || \"\");\r\n      } else if (action === \"reset\") {\r\n        await resetListingToPending(id);\r\n      }\r\n      await load();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Failed to update listing.\");\r\n    } finally {\r\n      setBusyId(null);\r\n    }\r\n  };\r\n\r\n  const toggleFeatured = async (id, current) => {\r\n    setBusyId(id);\r\n    try {\r\n      await setListingFeatured(id, !current);\r\n      await load();\r\n    } catch (err) {\r\n      console.error(err);\r\n      setError(\"Failed to update featured state.\");\r\n    } finally {\r\n      setBusyId(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-10\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <div>\r\n          <h1 className=\"text-2xl md:text-3xl font-bold text-slate-900\">\r\n            Admin: Listings\r\n          </h1>\r\n          <p className=\"text-sm text-slate-500 mt-1\">\r\n            Moderate listings, review AI fraud flags, and manage featured homes.\r\n          </p>\r\n        </div>\r\n        <Link\r\n          to=\"/admin\"\r\n          className=\"px-4 py-2 rounded-full border border-slate-200 text-sm text-slate-700 hover:bg-slate-50\"\r\n        >\r\n          ← Back to Dashboard\r\n        </Link>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 rounded-lg bg-rose-50 text-rose-700 text-sm px-3 py-2 border border-rose-100\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* FILTERS */}\r\n      <div className=\"flex flex-wrap gap-3 items-center mb-4 text-xs\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-slate-500\">Status:</span>\r\n          {[\"pending\", \"approved\", \"rejected\", \"all\"].map((s) => (\r\n            <button\r\n              key={s}\r\n              onClick={() => setStatusFilter(s)}\r\n              className={`px-3 py-1 rounded-full border text-xs ${\r\n                statusFilter === s\r\n                  ? \"bg-blue-600 text-white border-blue-600\"\r\n                  : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"\r\n              }`}\r\n            >\r\n              {s.charAt(0).toUpperCase() + s.slice(1)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <span className=\"text-slate-500\">AI fraud:</span>\r\n          {[\r\n            { key: \"all\", label: \"All\" },\r\n            { key: \"high\", label: \"High\" },\r\n            { key: \"medium\", label: \"Medium\" },\r\n            { key: \"low\", label: \"Low\" },\r\n          ].map((f) => (\r\n            <button\r\n              key={f.key}\r\n              onClick={() => setFraudFilter(f.key)}\r\n              className={`px-3 py-1 rounded-full border text-xs ${\r\n                fraudFilter === f.key\r\n                  ? \"bg-red-600 text-white border-red-600\"\r\n                  : \"bg-white text-slate-700 border-slate-200 hover:bg-slate-50\"\r\n              }`}\r\n            >\r\n              {f.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* TABLE / LIST */}\r\n      <div className=\"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden\">\r\n        <div className=\"hidden md:grid grid-cols-[2fr,1fr,1fr,1.5fr,1.5fr] gap-3 px-4 py-2 text-[11px] font-semibold text-slate-500 border-b border-slate-100\">\r\n          <div>Listing</div>\r\n          <div>Price</div>\r\n          <div>Status</div>\r\n          <div>AI fraud / pricing</div>\r\n          <div>Actions</div>\r\n        </div>\r\n\r\n        {loading && (\r\n          <div className=\"px-4 py-4 text-xs text-slate-500\">Loading…</div>\r\n        )}\r\n\r\n        {!loading && filtered.length === 0 && (\r\n          <div className=\"px-4 py-4 text-xs text-slate-500\">\r\n            No listings match these filters.\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"divide-y divide-slate-100\">\r\n          {filtered.map((l) => {\r\n            const fraudScore =\r\n              typeof l.aiFraudScore === \"number\" ? l.aiFraudScore : null;\r\n            const fraudPct =\r\n              fraudScore !== null ? Math.round(fraudScore * 100) : null;\r\n            const aiEstimate =\r\n              l.aiPricing?.estimate ??\r\n              l.aiPricing?.price ??\r\n              l.aiPricing?.suggested;\r\n\r\n            return (\r\n              <div\r\n                key={l.id}\r\n                className=\"px-4 py-3 text-xs md:grid md:grid-cols-[2fr,1fr,1fr,1.5fr,1.5fr] md:gap-3\"\r\n              >\r\n                {/* Listing info */}\r\n                <div className=\"mb-2 md:mb-0\">\r\n                  <div className=\"font-medium text-slate-900 text-sm\">\r\n                    {l.title || \"Untitled listing\"}\r\n                  </div>\r\n                  <div className=\"text-[11px] text-slate-500\">\r\n                    {l.address || \"No address\"} • ID: {l.id}\r\n                  </div>\r\n                  {l.featured && (\r\n                    <span className=\"mt-1 inline-flex px-2 py-0.5 rounded-full bg-indigo-50 text-indigo-700 border border-indigo-200 text-[10px]\">\r\n                      Featured\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Price */}\r\n                <div className=\"mb-2 md:mb-0\">\r\n                  <div className=\"font-semibold text-slate-900\">\r\n                    ${l.price?.toLocaleString?.() || l.price}\r\n                  </div>\r\n                  <div className=\"text-[11px] text-slate-500\">\r\n                    Down: $\r\n                    {l.downPayment?.toLocaleString?.() || l.downPayment}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Status */}\r\n                <div className=\"mb-2 md:mb-0 flex flex-col gap-1\">\r\n                  <StatusBadge status={l.status} />\r\n                  {typeof l.approved === \"boolean\" && (\r\n                    <span className=\"text-[10px] text-slate-500\">\r\n                      approved flag: {String(l.approved)}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* AI info */}\r\n                <div className=\"mb-2 md:mb-0 flex flex-col gap-1\">\r\n                  <FraudBadge score={fraudScore} />\r\n                  {aiEstimate != null && (\r\n                    <span className=\"text-[11px] text-slate-700\">\r\n                      AI est: $\r\n                      {aiEstimate?.toLocaleString?.() || aiEstimate}\r\n                    </span>\r\n                  )}\r\n                  {l.aiPricing?.confidence && (\r\n                    <span className=\"text-[10px] text-slate-500\">\r\n                      Confidence: {l.aiPricing.confidence}\r\n                    </span>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"flex flex-wrap gap-1 md:justify-end\">\r\n                  <button\r\n                    disabled={busyId === l.id}\r\n                    onClick={() => handleAction(l.id, \"approve\")}\r\n                    className=\"px-2 py-1 rounded-full bg-emerald-600 text-white text-[11px] hover:bg-emerald-700 disabled:opacity-60\"\r\n                  >\r\n                    Approve\r\n                  </button>\r\n                  <button\r\n                    disabled={busyId === l.id}\r\n                    onClick={() => handleAction(l.id, \"reject\")}\r\n                    className=\"px-2 py-1 rounded-full bg-rose-600 text-white text-[11px] hover:bg-rose-700 disabled:opacity-60\"\r\n                  >\r\n                    Reject\r\n                  </button>\r\n                  <button\r\n                    disabled={busyId === l.id}\r\n                    onClick={() => handleAction(l.id, \"reset\")}\r\n                    className=\"px-2 py-1 rounded-full border border-slate-200 text-[11px] text-slate-700 hover:bg-slate-50 disabled:opacity-60\"\r\n                  >\r\n                    Reset\r\n                  </button>\r\n                  <button\r\n                    disabled={busyId === l.id}\r\n                    onClick={() => toggleFeatured(l.id, l.featured)}\r\n                    className=\"px-2 py-1 rounded-full border border-indigo-200 text-[11px] text-indigo-700 hover:bg-indigo-50 disabled:opacity-60\"\r\n                  >\r\n                    {l.featured ? \"Unfeature\" : \"Feature\"}\r\n                  </button>\r\n                  <Link\r\n                    to={`/listing/${l.id}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                    className=\"px-2 py-1 rounded-full border border-slate-200 text-[11px] text-slate-700 hover:bg-slate-50\"\r\n                  >\r\n                    View\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StatusBadge({ status }) {\r\n  const s = status || \"pending\";\r\n  let base =\r\n    \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] border\";\r\n\r\n  if (s === \"approved\") {\r\n    base += \" bg-emerald-50 text-emerald-700 border-emerald-200\";\r\n  } else if (s === \"rejected\") {\r\n    base += \" bg-rose-50 text-rose-700 border-rose-200\";\r\n  } else {\r\n    base += \" bg-amber-50 text-amber-700 border-amber-200\";\r\n  }\r\n\r\n  return (\r\n    <span className={base}>\r\n      {s.charAt(0).toUpperCase() + s.slice(1)}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction FraudBadge({ score }) {\r\n  if (score == null) {\r\n    return (\r\n      <span className=\"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] bg-slate-50 text-slate-600 border border-slate-200\">\r\n        AI fraud: n/a\r\n      </span>\r\n    );\r\n  }\r\n\r\n  const pct = Math.round(score * 100);\r\n  let base =\r\n    \"inline-flex items-center px-2 py-0.5 rounded-full text-[11px] border\";\r\n  if (score >= 0.8) {\r\n    base += \" bg-red-50 text-red-700 border-red-200\";\r\n  } else if (score >= 0.5) {\r\n    base += \" bg-amber-50 text-amber-700 border-amber-200\";\r\n  } else {\r\n    base += \" bg-emerald-50 text-emerald-700 border-emerald-200\";\r\n  }\r\n\r\n  return <span className={base}>AI fraud: {pct}%</span>;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}