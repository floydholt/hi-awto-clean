{"ast":null,"code":"import{createUserWithEmailAndPassword,signInWithEmailAndPassword,signOut,updateProfile}from\"firebase/auth\";import{doc,setDoc,getDoc}from\"firebase/firestore\";import{auth,db}from\"./config\";export async function registerUser(_ref){let{email,password,displayName}=_ref;const cred=await createUserWithEmailAndPassword(auth,email,password);if(displayName){await updateProfile(cred.user,{displayName});}const userRef=doc(db,\"users\",cred.user.uid);const snap=await getDoc(userRef);if(!snap.exists()){await setDoc(userRef,{email,displayName:displayName||\"\",role:\"user\",createdAt:new Date()});}return cred.user;}export async function loginUser(_ref2){let{email,password}=_ref2;const cred=await signInWithEmailAndPassword(auth,email,password);return cred.user;}export async function logout(){return signOut(auth);}","map":{"version":3,"names":["createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","updateProfile","doc","setDoc","getDoc","auth","db","registerUser","_ref","email","password","displayName","cred","user","userRef","uid","snap","exists","role","createdAt","Date","loginUser","_ref2","logout"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/firebase/auth.js"],"sourcesContent":["import {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  updateProfile,\r\n} from \"firebase/auth\";\r\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\r\nimport { auth, db } from \"./config\";\r\n\r\nexport async function registerUser({ email, password, displayName }) {\r\n  const cred = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n  if (displayName) {\r\n    await updateProfile(cred.user, { displayName });\r\n  }\r\n\r\n  const userRef = doc(db, \"users\", cred.user.uid);\r\n  const snap = await getDoc(userRef);\r\n\r\n  if (!snap.exists()) {\r\n    await setDoc(userRef, {\r\n      email,\r\n      displayName: displayName || \"\",\r\n      role: \"user\",\r\n      createdAt: new Date(),\r\n    });\r\n  }\r\n\r\n  return cred.user;\r\n}\r\n\r\nexport async function loginUser({ email, password }) {\r\n  const cred = await signInWithEmailAndPassword(auth, email, password);\r\n  return cred.user;\r\n}\r\n\r\nexport async function logout() {\r\n  return signOut(auth);\r\n}\r\n"],"mappings":"AAAA,OACEA,8BAA8B,CAC9BC,0BAA0B,CAC1BC,OAAO,CACPC,aAAa,KACR,eAAe,CACtB,OAASC,GAAG,CAAEC,MAAM,CAAEC,MAAM,KAAQ,oBAAoB,CACxD,OAASC,IAAI,CAAEC,EAAE,KAAQ,UAAU,CAEnC,MAAO,eAAe,CAAAC,YAAYA,CAAAC,IAAA,CAAmC,IAAlC,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAAAH,IAAA,CACjE,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAd,8BAA8B,CAACO,IAAI,CAAEI,KAAK,CAAEC,QAAQ,CAAC,CAExE,GAAIC,WAAW,CAAE,CACf,KAAM,CAAAV,aAAa,CAACW,IAAI,CAACC,IAAI,CAAE,CAAEF,WAAY,CAAC,CAAC,CACjD,CAEA,KAAM,CAAAG,OAAO,CAAGZ,GAAG,CAACI,EAAE,CAAE,OAAO,CAAEM,IAAI,CAACC,IAAI,CAACE,GAAG,CAAC,CAC/C,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,MAAM,CAACU,OAAO,CAAC,CAElC,GAAI,CAACE,IAAI,CAACC,MAAM,CAAC,CAAC,CAAE,CAClB,KAAM,CAAAd,MAAM,CAACW,OAAO,CAAE,CACpBL,KAAK,CACLE,WAAW,CAAEA,WAAW,EAAI,EAAE,CAC9BO,IAAI,CAAE,MAAM,CACZC,SAAS,CAAE,GAAI,CAAAC,IAAI,CAAC,CACtB,CAAC,CAAC,CACJ,CAEA,MAAO,CAAAR,IAAI,CAACC,IAAI,CAClB,CAEA,MAAO,eAAe,CAAAQ,SAASA,CAAAC,KAAA,CAAsB,IAArB,CAAEb,KAAK,CAAEC,QAAS,CAAC,CAAAY,KAAA,CACjD,KAAM,CAAAV,IAAI,CAAG,KAAM,CAAAb,0BAA0B,CAACM,IAAI,CAAEI,KAAK,CAAEC,QAAQ,CAAC,CACpE,MAAO,CAAAE,IAAI,CAACC,IAAI,CAClB,CAEA,MAAO,eAAe,CAAAU,MAAMA,CAAA,CAAG,CAC7B,MAAO,CAAAvB,OAAO,CAACK,IAAI,CAAC,CACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}