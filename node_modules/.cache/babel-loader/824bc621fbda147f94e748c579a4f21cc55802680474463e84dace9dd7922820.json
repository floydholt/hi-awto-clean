{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{getUserThreads}from\"../firebase/messages.js\";import{useAuth}from\"../firebase/AuthContext.jsx\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function MyMessages(){const{user}=useAuth();const[threads,setThreads]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{if(!user)return;(async()=>{const data=await getUserThreads(user.uid);setThreads(data);setLoading(false);})();},[user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page fade-in\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",style:{textAlign:\"center\"},children:\"My Messages\"}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading conversations...\"}),!loading&&threads.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{textAlign:\"center\"},children:\"You have no message threads yet.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"grid\",gap:\"16px\"},children:threads.map(t=>{var _t$otherUser;return/*#__PURE__*/_jsxs(Link,{to:\"/thread/\".concat(t.id),className:\"card hover-glow\",style:{padding:\"16px\",display:\"block\",color:\"#111827\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"1rem\",fontWeight:600,color:\"var(--blue)\"},children:((_t$otherUser=t.otherUser)===null||_t$otherUser===void 0?void 0:_t$otherUser.displayName)||\"Unknown User\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"6px\",color:\"#6b7280\",fontSize:\"0.9rem\"},children:t.lastMessage||\"No messages yet\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"6px\",fontSize:\"0.75rem\",color:\"#9ca3af\"},children:new Date(t.updatedAt).toLocaleString()})]},t.id);})})]});}","map":{"version":3,"names":["React","useEffect","useState","Link","getUserThreads","useAuth","jsx","_jsx","jsxs","_jsxs","MyMessages","user","threads","setThreads","loading","setLoading","data","uid","className","children","style","textAlign","length","display","gap","map","t","_t$otherUser","to","concat","id","padding","color","fontSize","fontWeight","otherUser","displayName","marginTop","lastMessage","Date","updatedAt","toLocaleString"],"sources":["C:/Users/Floyd/Desktop/Websites/HIAWTO/hi-awto-clean/src/pages/MyMessages.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getUserThreads } from \"../firebase/messages.js\";\r\nimport { useAuth } from \"../firebase/AuthContext.jsx\";\r\n\r\nexport default function MyMessages() {\r\n  const { user } = useAuth();\r\n  const [threads, setThreads] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    (async () => {\r\n      const data = await getUserThreads(user.uid);\r\n      setThreads(data);\r\n      setLoading(false);\r\n    })();\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"page fade-in\">\r\n      <h1 className=\"page-title\" style={{ textAlign: \"center\" }}>\r\n        My Messages\r\n      </h1>\r\n\r\n      {loading && <div>Loading conversations...</div>}\r\n\r\n      {!loading && threads.length === 0 && (\r\n        <div className=\"card\" style={{ textAlign: \"center\" }}>\r\n          You have no message threads yet.\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ display: \"grid\", gap: \"16px\" }}>\r\n        {threads.map((t) => (\r\n          <Link\r\n            to={`/thread/${t.id}`}\r\n            key={t.id}\r\n            className=\"card hover-glow\"\r\n            style={{\r\n              padding: \"16px\",\r\n              display: \"block\",\r\n              color: \"#111827\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                fontSize: \"1rem\",\r\n                fontWeight: 600,\r\n                color: \"var(--blue)\",\r\n              }}\r\n            >\r\n              {t.otherUser?.displayName || \"Unknown User\"}\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginTop: \"6px\",\r\n                color: \"#6b7280\",\r\n                fontSize: \"0.9rem\",\r\n              }}\r\n            >\r\n              {t.lastMessage || \"No messages yet\"}\r\n            </div>\r\n            <div\r\n              style={{\r\n                marginTop: \"6px\",\r\n                fontSize: \"0.75rem\",\r\n                color: \"#9ca3af\",\r\n              }}\r\n            >\r\n              {new Date(t.updatedAt).toLocaleString()}\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,cAAc,KAAQ,yBAAyB,CACxD,OAASC,OAAO,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAEC,IAAK,CAAC,CAAGN,OAAO,CAAC,CAAC,CAC1B,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,GAAI,CAACU,IAAI,CAAE,OACX,CAAC,SAAY,CACX,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAAZ,cAAc,CAACO,IAAI,CAACM,GAAG,CAAC,CAC3CJ,UAAU,CAACG,IAAI,CAAC,CAChBD,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEV,mBACEF,KAAA,QAAKS,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BZ,IAAA,OAAIW,SAAS,CAAC,YAAY,CAACE,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAF,QAAA,CAAC,aAE3D,CAAI,CAAC,CAEJL,OAAO,eAAIP,IAAA,QAAAY,QAAA,CAAK,0BAAwB,CAAK,CAAC,CAE9C,CAACL,OAAO,EAAIF,OAAO,CAACU,MAAM,GAAK,CAAC,eAC/Bf,IAAA,QAAKW,SAAS,CAAC,MAAM,CAACE,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAF,QAAA,CAAC,kCAEtD,CAAK,CACN,cAEDZ,IAAA,QAAKa,KAAK,CAAE,CAAEG,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAL,QAAA,CAC1CP,OAAO,CAACa,GAAG,CAAEC,CAAC,OAAAC,YAAA,oBACblB,KAAA,CAACN,IAAI,EACHyB,EAAE,YAAAC,MAAA,CAAaH,CAAC,CAACI,EAAE,CAAG,CAEtBZ,SAAS,CAAC,iBAAiB,CAC3BE,KAAK,CAAE,CACLW,OAAO,CAAE,MAAM,CACfR,OAAO,CAAE,OAAO,CAChBS,KAAK,CAAE,SACT,CAAE,CAAAb,QAAA,eAEFZ,IAAA,QACEa,KAAK,CAAE,CACLa,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,GAAG,CACfF,KAAK,CAAE,aACT,CAAE,CAAAb,QAAA,CAED,EAAAQ,YAAA,CAAAD,CAAC,CAACS,SAAS,UAAAR,YAAA,iBAAXA,YAAA,CAAaS,WAAW,GAAI,cAAc,CACxC,CAAC,cACN7B,IAAA,QACEa,KAAK,CAAE,CACLiB,SAAS,CAAE,KAAK,CAChBL,KAAK,CAAE,SAAS,CAChBC,QAAQ,CAAE,QACZ,CAAE,CAAAd,QAAA,CAEDO,CAAC,CAACY,WAAW,EAAI,iBAAiB,CAChC,CAAC,cACN/B,IAAA,QACEa,KAAK,CAAE,CACLiB,SAAS,CAAE,KAAK,CAChBJ,QAAQ,CAAE,SAAS,CACnBD,KAAK,CAAE,SACT,CAAE,CAAAb,QAAA,CAED,GAAI,CAAAoB,IAAI,CAACb,CAAC,CAACc,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,CACpC,CAAC,GAlCDf,CAAC,CAACI,EAmCH,CAAC,EACR,CAAC,CACC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}